<!DOCTYPE html><html xmlns:date="http://exslt.org/dates-and-times" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
<meta charset="utf-8">
<title>Media Library Assistant » \MLAData</title>
<meta name="author" content="Mike van Riel">
<meta name="description" content="">
<link href="../css/template.css" rel="stylesheet" media="all">
<script src="../js/jquery-1.7.1.min.js" type="text/javascript"></script><script src="../js/jquery-ui-1.8.2.custom.min.js" type="text/javascript"></script><script src="../js/jquery.mousewheel.min.js" type="text/javascript"></script><script src="../js/bootstrap.js" type="text/javascript"></script><script src="../js/template.js" type="text/javascript"></script><script src="../js/prettify/prettify.min.js" type="text/javascript"></script><link rel="shortcut icon" href="../img/favicon.ico">
<link rel="apple-touch-icon" href="../img/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="72x72" href="../img/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="114x114" href="../img/apple-touch-icon-114x114.png">
</head>
<body>
<div class="navbar navbar-fixed-top">
<div class="navbar-inner"><div class="container">
<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a><a class="brand" href="../index.html">Media Library Assistant</a><div class="nav-collapse"><ul class="nav">
<li class="dropdown">
<a href="#api" class="dropdown-toggle" data-toggle="dropdown">
                                    API Documentation <b class="caret"></b></a><ul class="dropdown-menu"></ul>
</li>
<li class="dropdown" id="charts-menu">
<a href="#charts" class="dropdown-toggle" data-toggle="dropdown">
                                    Charts <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="../graph_class.html"><i class="icon-list-alt"></i> Class hierarchy diagram</a></li></ul>
</li>
<li class="dropdown" id="reports-menu">
<a href="#reports" class="dropdown-toggle" data-toggle="dropdown">
                                    Reports <b class="caret"></b></a><ul class="dropdown-menu">
<li><a href="../errors.html"><i class="icon-remove-sign"></i> Errors 
                <span class="label label-info">0</span></a></li>
<li><a href="../markers.html"><i class="icon-map-marker"></i> Markers 
                <ul></ul></a></li>
<li><a href="../deprecated.html"><i class="icon-stop"></i> Deprecated elements 
                <span class="label label-info">0</span></a></li>
</ul>
</li>
</ul></div>
</div></div>
<div class="go_to_top"><a href="#___" style="color: inherit">Back to top  <i class="icon-upload icon-white"></i></a></div>
</div>
<div id="___" class="container">
<noscript><div class="alert alert-warning">
                            Javascript is disabled; several features are only available
                            if Javascript is enabled.
                        </div></noscript>
<div class="row">
<div class="span4">
<span class="btn-group visibility" data-toggle="buttons-checkbox"><button class="btn public active" title="Show public elements">Public</button><button class="btn protected" title="Show protected elements">Protected</button><button class="btn private" title="Show private elements">Private</button><button class="btn inherited active" title="Show inherited elements">Inherited</button></span><div class="btn-group view pull-right" data-toggle="buttons-radio">
<button class="btn details" title="Show descriptions and method names"><i class="icon-list"></i></button><button class="btn simple" title="Show only method names"><i class="icon-align-justify"></i></button>
</div>
<ul class="side-nav nav nav-list">
<li class="nav-header">
<i class="icon-custom icon-method"></i> Methods</li>
<li class="method public "><a href="#initialize" title="initialize :: Initialization function, similar to __construct()"><span class="description">Initialization function, similar to __construct()</span><pre>initialize()</pre></a></li>
<li class="method public "><a href="#mla_count_list_table_items" title="mla_count_list_table_items :: Get the total number of attachment posts"><span class="description">Get the total number of attachment posts</span><pre>mla_count_list_table_items()</pre></a></li>
<li class="method public "><a href="#mla_fetch_attachment_references" title="mla_fetch_attachment_references :: Find Featured Image and inserted image/link references to an attachment"><span class="description">Find Featured Image and inserted image/link references to an attachment</span><pre>mla_fetch_attachment_references()</pre></a></li>
<li class="method public "><a href="#mla_get_attachment_by_id" title="mla_get_attachment_by_id :: Retrieve an Attachment array given a $post_id"><span class="description">Retrieve an Attachment array given a $post_id</span><pre>mla_get_attachment_by_id()</pre></a></li>
<li class="method public "><a href="#mla_load_template" title="mla_load_template :: Load an HTML template from a file"><span class="description">Load an HTML template from a file</span><pre>mla_load_template()</pre></a></li>
<li class="method public "><a href="#mla_parse_template" title="mla_parse_template :: Expand a template, replacing place holders with their values"><span class="description">Expand a template, replacing place holders with their values</span><pre>mla_parse_template()</pre></a></li>
<li class="method public "><a href="#mla_query_list_table_items" title="mla_query_list_table_items :: Retrieve attachment objects for list table display"><span class="description">Retrieve attachment objects for list table display</span><pre>mla_query_list_table_items()</pre></a></li>
<li class="method public "><a href="#mla_query_posts_join_filter" title="mla_query_posts_join_filter :: Adds a JOIN clause, if required"><span class="description">Adds a JOIN clause, if required</span><pre>mla_query_posts_join_filter()</pre></a></li>
<li class="method public "><a href="#mla_query_posts_orderby_filter" title="mla_query_posts_orderby_filter :: Adds a ORDERBY clause, if required"><span class="description">Adds a ORDERBY clause, if required</span><pre>mla_query_posts_orderby_filter()</pre></a></li>
<li class="method public "><a href="#mla_query_posts_search_filter" title="mla_query_posts_search_filter :: Adds a keyword search to the WHERE clause, if required"><span class="description">Adds a keyword search to the WHERE clause, if required</span><pre>mla_query_posts_search_filter()</pre></a></li>
<li class="method public "><a href="#mla_query_posts_where_filter" title="mla_query_posts_where_filter :: Adds a WHERE clause for detached items"><span class="description">Adds a WHERE clause for detached items</span><pre>mla_query_posts_where_filter()</pre></a></li>
<li class="nav-header private">» Private</li>
<li class="method private "><a href="#_execute_list_table_query" title="_execute_list_table_query :: Add filters, run query, remove filters"><span class="description">Add filters, run query, remove filters</span><pre>_execute_list_table_query()</pre></a></li>
<li class="method private "><a href="#_fetch_attachment_metadata" title="_fetch_attachment_metadata :: Fetch and filter meta data for an attachment"><span class="description">Fetch and filter meta data for an attachment</span><pre>_fetch_attachment_metadata()</pre></a></li>
<li class="method private "><a href="#_fetch_attachment_parent_data" title="_fetch_attachment_parent_data :: Returns information about an attachment's parent, if found"><span class="description">Returns information about an attachment's parent, if found</span><pre>_fetch_attachment_parent_data()</pre></a></li>
<li class="method private "><a href="#_prepare_list_table_query" title="_prepare_list_table_query :: Sanitize and expand query arguments from request variables"><span class="description">Sanitize and expand query arguments from request variables</span><pre>_prepare_list_table_query()</pre></a></li>
<li class="nav-header">
<i class="icon-custom icon-property"></i> Properties</li>
<li class="nav-header private">» Private</li>
<li class="property private "><a href="#%24query_parameters" title='$query_parameters :: WP_Query filter "parameters"'><span class="description">WP_Query filter "parameters"</span><pre>$query_parameters</pre></a></li>
</ul>
</div>
<div class="span8">
<a name="%5CMLAData" id="\MLAData"></a><ul class="breadcrumb">
<li>
<a href="../index.html"><i class="icon-custom icon-class"></i></a><span class="divider">\</span>
</li>
<li><a href="../namespaces/global.html">global</a></li>
<li class="active">
<span class="divider">\</span><a href="../classes/MLAData.html">MLAData</a>
</li>
</ul>
<div href="../classes/MLAData.html" class="element class">
<p class="short_description">Class MLA (Media Library Assistant) Data provides database and template file access for MLA needs</p>
<div class="details">
<p class="long_description"><p>The _template functions are inspired by the book "WordPress 3 Plugin Development Essentials."
Templates separate HTML markup from PHP code for easier maintenance and localization.</p></p>
<table class="table table-bordered">
<tr>
<th>package</th>
<td><a href="../packages/Media%20Library%20Assistant.html">Media Library Assistant</a></td>
</tr>
<tr>
<th>since</th>
<td>0.1</td>
</tr>
</table>
<h3>
<i class="icon-custom icon-method"></i> Methods</h3>
<a name="initialize" id="initialize"></a><div class="element clickable method public initialize" data-toggle="collapse" data-target=".initialize .collapse">
<h2>Initialization function, similar to __construct()</h2>
<pre>initialize() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.1</td>
</tr></table>
</div></div>
</div>
<a name="mla_count_list_table_items" id="mla_count_list_table_items"></a><div class="element clickable method public mla_count_list_table_items" data-toggle="collapse" data-target=".mla_count_list_table_items .collapse">
<h2>Get the total number of attachment posts</h2>
<pre>mla_count_list_table_items(array $request) : integer</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.30</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$request</h4>
<code>array</code><p>Query variables, e.g., from $_REQUEST</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>integer</code>Number of attachment posts</div>
</div></div>
</div>
<a name="mla_fetch_attachment_references" id="mla_fetch_attachment_references"></a><div class="element clickable method public mla_fetch_attachment_references" data-toggle="collapse" data-target=".mla_fetch_attachment_references .collapse">
<h2>Find Featured Image and inserted image/link references to an attachment</h2>
<pre>mla_fetch_attachment_references(int $ID, int $parent) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Searches all post and page content to see if the attachment is used
as a Featured Image or inserted in the post as an image or link.</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.1</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$ID</h4>
<code>int</code><p>post ID of attachment</p></div>
<div class="subelement argument">
<h4>$parent</h4>
<code>int</code><p>post ID of attachment's parent, if any</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>Reference information; see $references array comments</div>
</div></div>
</div>
<a name="mla_get_attachment_by_id" id="mla_get_attachment_by_id"></a><div class="element clickable method public mla_get_attachment_by_id" data-toggle="collapse" data-target=".mla_get_attachment_by_id .collapse">
<h2>Retrieve an Attachment array given a $post_id</h2>
<pre>mla_get_attachment_by_id(int $post_id) : NULL | array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>The (associative) array will contain every field that can be found in
the posts and postmeta tables, and all references to the attachment.</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.1</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$post_id</h4>
<code>int</code><p>The ID of the attachment post</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>NULL</code><code>array</code>NULL on failure else associative array</div>
</div></div>
</div>
<a name="mla_load_template" id="mla_load_template"></a><div class="element clickable method public mla_load_template" data-toggle="collapse" data-target=".mla_load_template .collapse">
<h2>Load an HTML template from a file</h2>
<pre>mla_load_template(string $source, string $type) : string | array | false | NULL</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Loads a template to a string or a multi-part template to an array.
Multi-part templates are divided by comments of the form <!-- template="key" -->,
where "key" becomes the key part of the array.</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.1</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$source</h4>
<code>string</code><p>Complete path and name of the template file, option name or the raw template</p></div>
<div class="subelement argument">
<h4>$type</h4>
<code>string</code><p>Type of template source; 'file', 'option', 'string'</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code><code>array</code><code>false</code><code>NULL</code>string for files that do not contain template divider comments, array for files containing template divider comments, false if file or option does not exist, NULL if file could not be loaded.</div>
</div></div>
</div>
<a name="mla_parse_template" id="mla_parse_template"></a><div class="element clickable method public mla_parse_template" data-toggle="collapse" data-target=".mla_parse_template .collapse">
<h2>Expand a template, replacing place holders with their values</h2>
<pre>mla_parse_template(string $tpl, array $hash) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>A simple parsing function for basic templating.</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.1</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$tpl</h4>
<code>string</code><p>A formatting string containing [+placeholders+]</p>
</div>
<div class="subelement argument">
<h4>$hash</h4>
<code>array</code><p>An associative array containing keys and values e.g. array('key' => 'value')</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>Placeholders corresponding to the keys of the hash will be replaced with their values</div>
</div></div>
</div>
<a name="mla_query_list_table_items" id="mla_query_list_table_items"></a><div class="element clickable method public mla_query_list_table_items" data-toggle="collapse" data-target=".mla_query_list_table_items .collapse">
<h2>Retrieve attachment objects for list table display</h2>
<pre>mla_query_list_table_items(array $request, int $offset, int $count) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Supports prepare_items in class-mla-list-table.php.
Modeled after wp_edit_attachments_query in wp-admin/post.php</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.1</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$request</h4>
<code>array</code><p>query parameters from web page, usually found in $_REQUEST</p>
</div>
<div class="subelement argument">
<h4>$offset</h4>
<code>int</code><p>number of rows to skip over to reach desired page</p></div>
<div class="subelement argument">
<h4>$count</h4>
<code>int</code><p>number of rows on each page</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>attachment objects (posts) including parent data, meta data and references</div>
</div></div>
</div>
<a name="mla_query_posts_join_filter" id="mla_query_posts_join_filter"></a><div class="element clickable method public mla_query_posts_join_filter" data-toggle="collapse" data-target=".mla_query_posts_join_filter .collapse">
<h2>Adds a JOIN clause, if required</h2>
<pre>mla_query_posts_join_filter(string $join_clause) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Defined as public because it's a filter.</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.30</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$join_clause</h4>
<code>string</code><p>query clause before modification</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>query clause after "detached" item modification</div>
</div></div>
</div>
<a name="mla_query_posts_orderby_filter" id="mla_query_posts_orderby_filter"></a><div class="element clickable method public mla_query_posts_orderby_filter" data-toggle="collapse" data-target=".mla_query_posts_orderby_filter .collapse">
<h2>Adds a ORDERBY clause, if required</h2>
<pre>mla_query_posts_orderby_filter(string $orderby_clause) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Expands the range of sort options because the logic in WP_Query is limited.
Defined as public because it's a filter.</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.30</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$orderby_clause</h4>
<code>string</code><p>query clause before modification</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>updated query clause</div>
</div></div>
</div>
<a name="mla_query_posts_search_filter" id="mla_query_posts_search_filter"></a><div class="element clickable method public mla_query_posts_search_filter" data-toggle="collapse" data-target=".mla_query_posts_search_filter .collapse">
<h2>Adds a keyword search to the WHERE clause, if required</h2>
<pre>mla_query_posts_search_filter(string $search_string, object $query_object) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Defined as public because it's a filter.</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.60</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$search_string</h4>
<code>string</code><p>query clause before modification</p></div>
<div class="subelement argument">
<h4>$query_object</h4>
<code>object</code><p>WP_Query object</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>query clause after keyword search addition</div>
</div></div>
</div>
<a name="mla_query_posts_where_filter" id="mla_query_posts_where_filter"></a><div class="element clickable method public mla_query_posts_where_filter" data-toggle="collapse" data-target=".mla_query_posts_where_filter .collapse">
<h2>Adds a WHERE clause for detached items</h2>
<pre>mla_query_posts_where_filter(string $where_clause) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Modeled after _edit_attachments_query_helper in wp-admin/post.php.
Defined as public because it's a filter.</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.1</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$where_clause</h4>
<code>string</code><p>query clause before modification</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>query clause after "detached" item modification</div>
</div></div>
</div>
<a name="_execute_list_table_query" id="_execute_list_table_query"></a><div class="element clickable method private _execute_list_table_query" data-toggle="collapse" data-target="._execute_list_table_query .collapse">
<h2>Add filters, run query, remove filters</h2>
<pre>_execute_list_table_query(array $request) : object</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.30</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$request</h4>
<code>array</code><p>query parameters from web page, usually found in $_REQUEST</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>object</code>WP_Query object with query results</div>
</div></div>
</div>
<a name="_fetch_attachment_metadata" id="_fetch_attachment_metadata"></a><div class="element clickable method private _fetch_attachment_metadata" data-toggle="collapse" data-target="._fetch_attachment_metadata .collapse">
<h2>Fetch and filter meta data for an attachment</h2>
<pre>_fetch_attachment_metadata(int $post_id) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Returns a filtered array of a post's meta data. Internal values beginning with '<em>'
are stripped out or converted to an 'mla</em>' equivalent. Array data is replaced with
a string containing the first array element.</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.1</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$post_id</h4>
<code>int</code><p>post ID of attachment</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>Meta data variables</div>
</div></div>
</div>
<a name="_fetch_attachment_parent_data" id="_fetch_attachment_parent_data"></a><div class="element clickable method private _fetch_attachment_parent_data" data-toggle="collapse" data-target="._fetch_attachment_parent_data .collapse">
<h2>Returns information about an attachment's parent, if found</h2>
<pre>_fetch_attachment_parent_data(int $parent_id) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.1</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$parent_id</h4>
<code>int</code><p>post ID of attachment's parent, if any</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>Parent information; post_date, post_title and post_type</div>
</div></div>
</div>
<a name="_prepare_list_table_query" id="_prepare_list_table_query"></a><div class="element clickable method private _prepare_list_table_query" data-toggle="collapse" data-target="._prepare_list_table_query .collapse">
<h2>Sanitize and expand query arguments from request variables</h2>
<pre>_prepare_list_table_query(array $raw_request, int $offset, int $count) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Prepare the arguments for WP_Query.
Modeled after wp_edit_attachments_query in wp-admin/post.php</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.1</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$raw_request</h4>
<code>array</code><p>query parameters from web page, usually found in $_REQUEST</p>
</div>
<div class="subelement argument">
<h4>$offset</h4>
<code>int</code><p>number of rows to skip over to reach desired page</p></div>
<div class="subelement argument">
<h4>$count</h4>
<code>int</code><p>number of rows on each page (0 = all rows)</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>revised arguments suitable for WP_Query</div>
</div></div>
</div>
<h3>
<i class="icon-custom icon-property"></i> Properties</h3>
<a name="%24query_parameters" id="$query_parameters"> </a><div class="element clickable property private $query_parameters" data-toggle="collapse" data-target=".$query_parameters .collapse">
<h2>WP_Query filter "parameters"</h2>
<pre>$query_parameters : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This array defines parameters for the query's join, where and orderby filters.
The parameters are set up in the _prepare_list_table_query function, and
any further logic required to translate those values is contained in the filters.</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.30</td>
</tr></table>
</div></div>
</div>
</div>
</div>
</div>
</div>
<div class="row"><footer class="span12">
            Template is built using <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap 2</a> and icons provided by <a href="http://glyphicons.com/">Glyphicons</a>.<br>
            Documentation is powered by <a href="http://www.phpdoc.org/">phpDocumentor 2.0.0a8</a> and<br>
            generated on 2012-10-24T10:33:50-07:00.<br></footer></div>
</div>
</body>
</html>
